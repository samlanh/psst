<?php 
$this->headTitle('SRMS | Cash Out');
echo $this->headTitle();
?>
<?php 
	$frm_cal = $this->frm_cal;
	define("CENTER","center");
	$tr = Application_Form_FrmLanguages::getCurrentlanguage();
?>
<script type="text/javascript">
	dojo.require("dijit.Dialog");
</script>
<form id="cash_count" dojoType="dijit.form.Form" method="post" enctype="application/x-www-form-urlencoded" >
<table cellspacing="20" width="100%" >
	<tr>
		<td width="48%">
			<fieldset>
				<legend align="center"><?php echo $tr->translate("USD");?></legend>
				<table style="margin: 0 auto; width: 90%;" cellspacing="10">
					<tr height="30px">
						<td>$ 100</td>
						<td>x</td>
						<td align="<?php echo CENTER;?>" width="40%"><?php echo $frm_cal->getElement("d_hundred");?></td>
						<td>=</td>
						<td align="<?php echo CENTER;?>" width="40%"><?php echo $frm_cal->getElement("rs_hundred");?></td>
					</tr>
					<tr>
						<td>$ 50</td>
						<td>x</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("d_fifty");?></td>
						<td>=</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("rs_fifty");?></td>
					</tr>
					<tr>
						<td>$ 20</td>
						<td>x</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("d_tweenty");?></td>
						<td>=</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("rs_tweenty");?></td>
					</tr>
					<tr>
						<td>$ 10 </td>
						<td>x</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("d_ten");?></td>
						<td>=</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("rs_ten");?></td>
					</tr>
					<tr>
						<td>$ 5</td>
						<td>x</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("d_five");?></td>
						<td>=</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("rs_five");?></td>
					</tr>
					<tr>
						<td>$ 1</td>
						<td>x</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("d_one");?></td>
						<td>=</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("rs_one");?></td>
					</tr>
					<tr>
						<td colspan="3" align="<?php echo CENTER;?>"><?php echo $tr->translate("ALL_TOTAL_DOLLAR");?></td>
						<td>$</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("rs_dollar_total");?></td>
					</tr>
					<tr>
						<td colspan="3" align="<?php echo CENTER;?>"><?php echo $tr->translate("ប្រាក់បំលែងពីរៀល");?></td>
						<td>$</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("total_reil_dollar");?></td>
					</tr>
					<tr>
						<td colspan="3" align="<?php echo CENTER;?>"><?php echo $tr->translate("សរុបជាដុល្លាទាំងអស់");?></td>
						<td>$</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("total_amount");?></td>
					</tr>
					<tr>
						<td colspan="3" align="<?php echo CENTER;?>"><?php echo $tr->translate("DATE");?></td>
						<td></td>
						<td align="<?php echo CENTER;?>" ><input dojoType="dijit.form.DateTextBox"  constraints="{datePattern:'dd/MM/yyyy'}" value="<?php echo date("Y-m-d");?>" class="fullside" id="date" name="date" type="text"></td>
					</tr>
				</table>
			</fieldset>
			</td>
			<td width="48%">
			<fieldset>
				<legend align="center"><?php echo $tr->translate("RIEL");?></legend>
				<table style="margin: 0 auto; width: 90%;" cellspacing="10">
					<tr>
						<td>R 50,000 </td>
						<td>x</td>
						<td align="<?php echo CENTER;?>" width="40%"><?php echo $frm_cal->getElement("r_fiftyhousend");?></td>
						<td>=</td>
						<td align="<?php echo CENTER;?>" width="40%"><?php echo $frm_cal->getElement("rs_fiftyhousend");?></td>
					</tr>
					<tr>
						<td>R 10,000</td>
						<td>x</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("r_tenthousend");?></td>
						<td>=</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("rs_tenthousend");?></td>
					</tr>
					<tr>
						<td>R 5,000 </td>
						<td>x</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("r_fivehousend");?></td>
						<td>=</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("rs_fivehousend");?></td>
					</tr>
					<tr>
						<td>R 2,000</td>
						<td>x</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("r_tweentyhousend");?></td>
						<td>=</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("rs_tweentyhousend");?></td>
					</tr>
					<tr>
						<td>R 1,000 </td>
						<td>x</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("thousend");?></td>
						<td>=</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("rs_thousend");?></td>
					</tr>
					<tr>
						<td>R 500 </td>
						<td>x</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("r_fivehundred");?></td>
						<td>=</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("rs_fivehundred");?></td>
					</tr>
					<tr>
						<td>R 100 </td>
						<td>x</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("r_onehundred");?></td>
						<td>=</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("rs_onehundred");?></td>
					</tr>
					<tr>
						<td colspan="3" align="<?php echo CENTER;?>"><?php echo $tr->translate("ALL_TOTAL_REIL");?></td>
						<td>R</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("rs_kh_total");?></td>
					</tr>
					<tr>
						<td colspan="3" align="<?php echo CENTER;?>"><?php echo $tr->translate("Convert to dollars");?></td>
						<td>R</td>
						<td align="<?php echo CENTER;?>"><?php echo $frm_cal->getElement("rate");?></td>
					</tr>
					<tr>
						<td colspan="2" align="<?php echo CENTER;?>"><?php echo $tr->translate("NOTE");?></td>
						<td align="<?php echo CENTER;?>" colspan="3"><input dojoType="dijit.form.TextBox" class="fullside" id="note" name="note" value="" type="text"></td>
					</tr>
				</table>
			</fieldset>
		</td>
	</tr>
</table>
</form>
<table width="100%">
	<tr align="center">
		<td>
			<input type="button" value="Save & Print" label="រក្សាទុកបោះពុម្ភ" id="busyButton" dojoType="dijit.form.Button" 
			iconClass="dijitEditorIcon dijitEditorIconPrint" onclick="printCashCount();displayNone()"/>
		</td>
	</tr>
</table>
<script>
function displayNone(){
	//document.getElementById('printcashcount1').style.display="none";
}
function Calcuhundred(){
	d_hundred=dijit.byId('d_hundred').get('value');
	rs_hundred=d_hundred*100;
	dojo.byId("rs_hundred").value = dojo.number.format(rs_hundred);
	dojo.connect("onkeyup", function(evt){
		subTotalDollar();
    });	
}
function Calfifty(){
	d_fifty=dijit.byId('d_fifty').get('value')
	rs_fifty=d_fifty*50;
	dojo.byId("rs_fifty").value = dojo.number.format(rs_fifty);
	subTotalDollar();	
}
function Caltweenty(){
	d_tweenty=dijit.byId('d_tweenty').get('value')
	rs_tweenty=d_tweenty*20;
	dojo.byId("rs_tweenty").value = dojo.number.format(rs_tweenty);	
	subTotalDollar();
}
function Calten(){
	d_ten=dijit.byId('d_ten').get('value')
	rs_ten=d_ten*10;
	dojo.byId("rs_ten").value = dojo.number.format(rs_ten);	
	subTotalDollar();
}
function Calfive(){
	d_five=dijit.byId('d_five').get('value')
	rs_five=d_five*5;
	dojo.byId("rs_five").value = dojo.number.format(rs_five);
	subTotalDollar();
}
function Calone(){
	d_one=dijit.byId('d_one').get('value')
	rs_one=d_one*1;
	dojo.byId("rs_one").value = dojo.number.format(rs_one);
	subTotalDollar();
}
function subTotalDollar(){
	rs_hundred=parseFloat(dijit.byId('rs_hundred').get('value'));
	rs_fifty=parseFloat(dijit.byId('rs_fifty').get('value'));
	rs_tweenty=parseFloat(dijit.byId('rs_tweenty').get('value'));
	rs_ten=parseFloat(dijit.byId('rs_ten').get('value'));
	rs_five=parseFloat(dijit.byId('rs_five').get('value'));
	rs_one=parseFloat(dijit.byId('rs_one').get('value'));
	if(isNaN(rs_hundred)){
		rs_hundred=0;
	}
	if(isNaN(rs_fifty)){
		rs_fifty=0;
	}
	if(isNaN(rs_tweenty)){
		rs_tweenty=0;
	}
	if(isNaN(rs_ten)){
		rs_ten=0;
	}
	if(isNaN(rs_five)){
		rs_five=0;
	}
	if(isNaN(rs_one)){
		rs_one=0;
	}
	sub_totaldollar=rs_hundred+rs_fifty+rs_tweenty+rs_ten+rs_five+rs_one;
	dojo.byId("rs_dollar_total").value = dojo.number.format(sub_totaldollar);
	AllAmountTotal();
}
///calculator kh
function Calfiftyhousend(){
	r_fiftyhousend=dijit.byId('r_fiftyhousend').get('value')
	r_fiftyhousend=r_fiftyhousend*50000;
	dojo.byId("rs_fiftyhousend").value = dojo.number.format(r_fiftyhousend);
	subTotalkh();
}
function Caltenthousend(){
	r_tenthousend=dijit.byId('r_tenthousend').get('value')
	r_tenthousend=r_tenthousend*10000;
	dojo.byId("rs_tenthousend").value = dojo.number.format(r_tenthousend);
	subTotalkh();	
}
function Calfivehousend(){
	r_fivehousend=dijit.byId('r_fivehousend').get('value')
	rs_tweenty=r_fivehousend*5000;
	dojo.byId("rs_fivehousend").value = dojo.number.format(rs_tweenty);	
	subTotalkh();
}
function Caltweentyhousend(){
	r_tweentyhousend=dijit.byId('r_tweentyhousend').get('value')
	r_tweentyhousend=r_tweentyhousend*2000;
	dojo.byId("rs_tweentyhousend").value = dojo.number.format(r_tweentyhousend);	
	subTotalkh();
}
function Calthousend(){
	thousend=dijit.byId('thousend').get('value')
	thousend=thousend*1000;
	dojo.byId("rs_thousend").value = dojo.number.format(thousend);	
	subTotalkh();
}
function Calfivehundred(){
	r_fivehundred=dijit.byId('r_fivehundred').get('value')
	r_fivehundred=r_fivehundred*500;
	dojo.byId("rs_fivehundred").value = dojo.number.format(r_fivehundred);	
	subTotalkh();
}
function Calonehundred(){
	r_onehundred=dijit.byId('r_onehundred').get('value')
	r_onehundred=r_onehundred*100;
	dojo.byId("rs_onehundred").value = dojo.number.format(r_onehundred);	
	subTotalkh();
}
function subTotalkh(){
	rs_fiftyhousend=parseFloat(dijit.byId('rs_fiftyhousend').get('value'));
	rs_tenthousend=parseFloat(dijit.byId('rs_tenthousend').get('value'));
	rs_fivehousend=parseFloat(dijit.byId('rs_fivehousend').get('value'));
	rs_tweentyhousend=parseFloat(dijit.byId('rs_tweentyhousend').get('value'));
	rs_thousend=parseFloat(dijit.byId('rs_thousend').get('value'));
	rs_fivehundred=parseFloat(dijit.byId('rs_fivehundred').get('value'));
	rs_onehundred=parseFloat(dijit.byId('rs_onehundred').get('value'));
	if(isNaN(rs_fiftyhousend)){
		rs_fiftyhousend=0;
	}
	if(isNaN(rs_tenthousend)){
		rs_tenthousend=0;
	}
	if(isNaN(rs_fivehousend)){
		rs_fivehousend=0;
	}
	if(isNaN(rs_tweentyhousend)){
		rs_tweentyhousend=0;
	}
	if(isNaN(rs_thousend)){
		rs_thousend=0;
	}
	if(isNaN(rs_fivehundred)){
		rs_fivehundred=0;
	}
	if(isNaN(rs_onehundred)){
		rs_onehundred=0;
	}
	sub_totalkh=rs_fiftyhousend+rs_tenthousend+rs_fivehousend+rs_tweentyhousend+rs_thousend+rs_fivehundred+rs_onehundred;
	dojo.byId("rs_kh_total").value = dojo.number.format(sub_totalkh);	
	//rs_kh_total=parseFloat(dijit.byId('rs_kh_total').get('value'));
	rate=parseFloat(dijit.byId('rate').get('value'));
	covertfromreil = sub_totalkh/rate;
	dojo.byId("total_reil_dollar").value = dojo.number.format(covertfromreil);
	AllAmountTotal();
	
}
function AllAmountTotal(){
	rs_total_dollar=parseFloat(dijit.byId('rs_dollar_total').get('value'));
	rs_total_reil=parseFloat(dijit.byId('total_reil_dollar').get('value'));
	if(isNaN(rs_total_dollar)){
		rs_total_dollar=0;
	}
	if(isNaN(rs_total_reil)){
		rs_total_reil=0;
	}
	total_amount = rs_total_dollar+rs_total_reil;
	//total_amount = total_amount.
	dojo.byId("total_amount").value = dojo.number.format(total_amount);
}
function printCashCount(){		
	if(dijit.byId('cash_count').validate()) {
		//100$
		d_hundred=dijit.byId('d_hundred').get('value').toFixed(2);
		rs_hundred=dijit.byId('rs_hundred').get('value').toFixed(2);
	    dojo.byId("lb_hundred").innerHTML =isNaN(d_hundred)?0:d_hundred;
		dojo.byId("rd_hundred").innerHTML =isNaN(rs_hundred)?0:rs_hundred;
        //50$
		d_fifty=dijit.byId('d_fifty').get('value').toFixed(2);
		rs_fifty=dijit.byId('rs_fifty').get('value').toFixed(2);
		dojo.byId("lb_fifty").innerHTML =isNaN(d_fifty)?0:d_fifty;
		dojo.byId("rd_fifty").innerHTML =isNaN(rs_fifty)?0:rs_fifty;
        //20$
		d_tweenty=dijit.byId('d_tweenty').get('value').toFixed(2);
		rs_tweenty=dijit.byId('rs_tweenty').get('value').toFixed(2);
		dojo.byId("lb_tweenty").innerHTML =isNaN(d_tweenty)?0:d_tweenty;
		dojo.byId("rd_tweenty").innerHTML =isNaN(rs_tweenty)?0:rs_tweenty;
		 //10$
		d_ten=dijit.byId('d_ten').get('value').toFixed(2);
		rs_ten=dijit.byId('rs_ten').get('value').toFixed(2);
		dojo.byId("lb_ten").innerHTML =isNaN(d_ten)?0:d_ten;
		dojo.byId("rd_ten").innerHTML =isNaN(rs_ten)?0:rs_ten;
		 //5$
		d_five=dijit.byId('d_five').get('value').toFixed(2);
		rs_five=dijit.byId('rs_five').get('value').toFixed(2);
		dojo.byId("lb_five").innerHTML =isNaN(d_five)?0:d_five;
		dojo.byId("rd_five").innerHTML =isNaN(rs_five)?0:rs_five;            
		 //5$
		d_one=dijit.byId('d_one').get('value').toFixed(2);
		rs_one=dijit.byId('rs_one').get('value').toFixed(2);
		dojo.byId("lb_one").innerHTML =isNaN(d_one)?0:d_one;
		dojo.byId("rd_one").innerHTML =isNaN(rs_one)?0:rs_one;  
		//total dollar
		rs_dollar_total=dijit.byId('rs_dollar_total').get('value').toFixed(2);
		dojo.byId("lb_total").innerHTML =dojo.number.format(isNaN(rs_dollar_total)?0:rs_dollar_total); 
		total_reil_dollar=dijit.byId('total_reil_dollar').get('value').toFixed(2);
		dojo.byId("lb_dollar_reil").innerHTML =isNaN(total_reil_dollar)?0:total_reil_dollar; 
		
		//total dollar2
		rs_dollar_total=dijit.byId('rs_dollar_total').get('value').toFixed(2);
		dojo.byId("lb_total2").innerHTML =dojo.number.format(isNaN(rs_dollar_total)?0:rs_dollar_total); 
		total_reil_dollar=dijit.byId('total_reil_dollar').get('value').toFixed(2);
		dojo.byId("lb_dollar_reil").innerHTML =isNaN(total_reil_dollar)?0:total_reil_dollar; 
		
		///////////////////riel//////////////////////////

		//R50000
		r_fiftyhousend=dijit.byId('r_fiftyhousend').get('value');
		rs_fiftyhousend=dijit.byId('rs_fiftyhousend').get('value');
		dojo.byId("lb_fiftythousend").innerHTML =isNaN(r_fiftyhousend)?0:r_fiftyhousend;
		dojo.byId("rr_fiftythousend").innerHTML =isNaN(rs_fiftyhousend)?'0':rs_fiftyhousend; 
		//R10000
		r_tenthousend=dijit.byId('r_tenthousend').get('value');
		rs_tenthousend=dijit.byId('rs_tenthousend').get('value');
		dojo.byId("lb_tenthousend").innerHTML =isNaN(r_tenthousend)?0:r_tenthousend;
		dojo.byId("rr_tenhousend").innerHTML =isNaN(rs_tenthousend)?'0':rs_tenthousend; 
		//R5000
		r_fivehousend=dijit.byId('r_fivehousend').get('value');
		rs_fivehousend=dijit.byId('rs_fivehousend').get('value');
		dojo.byId("lb_fivethousend").innerHTML =isNaN(r_fivehousend)?0:r_fivehousend;
		dojo.byId("rr_fivethousend").innerHTML =isNaN(rs_fivehousend)?'0':rs_fivehousend; 
		//R2000
		r_tweentyhousend=dijit.byId('r_tweentyhousend').get('value');
		rs_tweentyhousend=dijit.byId('rs_tweentyhousend').get('value');
		dojo.byId("lb_twothousend").innerHTML =isNaN(r_tweentyhousend)?0:r_tweentyhousend;
		dojo.byId("rr_twothousend").innerHTML =isNaN(rs_tweentyhousend)?'0':rs_tweentyhousend; 
		//R1000
		thousend=dijit.byId('thousend').get('value');
		rs_thousend=dijit.byId('rs_thousend').get('value');
		dojo.byId("lb_thousend").innerHTML =isNaN(thousend)?0:thousend;
		dojo.byId("rr_thousend").innerHTML =isNaN(rs_thousend)?'0':rs_thousend;  
		//R500
		r_fivehundred=dijit.byId('r_fivehundred').get('value');
		rs_fivehundred=dijit.byId('rs_fivehundred').get('value');
		dojo.byId("lb_fivehundred").innerHTML =isNaN(r_fivehundred)?0:r_fivehundred;
		dojo.byId("rr_fivehundred").innerHTML =isNaN(rs_fivehundred)?'0':rs_fivehundred;  
		//R100
		r_onehundred=dijit.byId('r_onehundred').get('value');
		rs_onehundred=dijit.byId('rs_onehundred').get('value');
		dojo.byId("lbr_hundred").innerHTML =isNaN(r_onehundred)?0:r_onehundred;
		dojo.byId("rr_hundred").innerHTML =isNaN(rs_onehundred)?'0':rs_onehundred;
		//all total in khmer
		rs_kh_total=dijit.byId('rs_kh_total').get('value');
		dojo.byId("lbr_total_").innerHTML =isNaN(rs_kh_total)?0:rs_kh_total;
		//all dolla and riel
		total_amount=dijit.byId('total_amount').get('value');
		dojo.byId("lbdr_totals_amount").innerHTML =dojo.number.format(isNaN(total_amount)?0:total_amount,2);
		d_hundred=dijit.byId('d_hundred').get('value').toFixed(2);
		rs_hundred=dijit.byId('rs_hundred').get('value').toFixed(2);
	    dojo.byId("lb_hundred1").innerHTML =isNaN(d_hundred)?0:d_hundred;
		dojo.byId("rd_hundred1").innerHTML =isNaN(rs_hundred)?0:rs_hundred;
        //50$
		d_fifty=dijit.byId('d_fifty').get('value').toFixed(2);
		rs_fifty=dijit.byId('rs_fifty').get('value').toFixed(2);
		dojo.byId("lb_fifty1").innerHTML =isNaN(d_fifty)?0:d_fifty;
		dojo.byId("rd_fifty1").innerHTML =isNaN(rs_fifty)?0:rs_fifty;
        //20$
		d_tweenty=dijit.byId('d_tweenty').get('value').toFixed(2);
		rs_tweenty=dijit.byId('rs_tweenty').get('value').toFixed(2);
		dojo.byId("lb_tweenty1").innerHTML =isNaN(d_tweenty)?0:d_tweenty;
		dojo.byId("rd_tweenty1").innerHTML =isNaN(rs_tweenty)?0:rs_tweenty;
		 //10$
		d_ten=dijit.byId('d_ten').get('value').toFixed(2);
		rs_ten=dijit.byId('rs_ten').get('value').toFixed(2);
		dojo.byId("lb_ten1").innerHTML =isNaN(d_ten)?0:d_ten;
		dojo.byId("rd_ten1").innerHTML =isNaN(rs_ten)?0:rs_ten;
		 //5$
		d_five=dijit.byId('d_five').get('value').toFixed(2);
		rs_five=dijit.byId('rs_five').get('value').toFixed(2);
		dojo.byId("lb_five1").innerHTML =isNaN(d_five)?0:d_five;
		dojo.byId("rd_five1").innerHTML =isNaN(rs_five)?0:rs_five;            
		 //5$
		d_one=dijit.byId('d_one').get('value').toFixed(2);
		rs_one=dijit.byId('rs_one').get('value').toFixed(2);
		dojo.byId("lb_one1").innerHTML =isNaN(d_one)?0:d_one;
		dojo.byId("rd_one1").innerHTML =isNaN(rs_one)?0:rs_one;  
		//total dollar
		rs_dollar_total=dijit.byId('rs_dollar_total').get('value').toFixed(2);
		//dojo.byId("lb_total1").innerHTML =dojo.number.format(isNaN(rs_dollar_total)?0:rs_dollar_total,2); 
		///////////////////riel//////////////////////////

		//R50000
		r_fiftyhousend=dijit.byId('r_fiftyhousend').get('value');
		rs_fiftyhousend=dijit.byId('rs_fiftyhousend').get('value');
		dojo.byId("lb_fiftythousend1").innerHTML =isNaN(r_fiftyhousend)?0:r_fiftyhousend;
		dojo.byId("rr_fiftythousend1").innerHTML =isNaN(rs_fiftyhousend)?'0':rs_fiftyhousend; 
		//R10000
		r_tenthousend=dijit.byId('r_tenthousend').get('value');
		rs_tenthousend=dijit.byId('rs_tenthousend').get('value');
		dojo.byId("lb_tenthousend1").innerHTML =isNaN(r_tenthousend)?0:r_tenthousend;
		dojo.byId("rr_tenhousend1").innerHTML =isNaN(rs_tenthousend)?'0':rs_tenthousend; 
		//R5000
		r_fivehousend=dijit.byId('r_fivehousend').get('value');
		rs_fivehousend=dijit.byId('rs_fivehousend').get('value');
		dojo.byId("lb_fivethousend1").innerHTML =isNaN(r_fivehousend)?0:r_fivehousend;
		dojo.byId("rr_fivethousend1").innerHTML =isNaN(rs_fivehousend)?'0':rs_fivehousend; 
		//R2000
		r_tweentyhousend=dijit.byId('r_tweentyhousend').get('value');
		rs_tweentyhousend=dijit.byId('rs_tweentyhousend').get('value');
		dojo.byId("lb_twothousend1").innerHTML =isNaN(r_tweentyhousend)?0:r_tweentyhousend;
		dojo.byId("rr_twothousend1").innerHTML =isNaN(rs_tweentyhousend)?'0':rs_tweentyhousend; 
		//R1000
		thousend=dijit.byId('thousend').get('value');
		rs_thousend=dijit.byId('rs_thousend').get('value');
		dojo.byId("lb_thousend1").innerHTML =isNaN(thousend)?0:thousend;
		dojo.byId("rr_thousend1").innerHTML =isNaN(rs_thousend)?'0':rs_thousend;  
		//R500
		r_fivehundred=dijit.byId('r_fivehundred').get('value');
		rs_fivehundred=dijit.byId('rs_fivehundred').get('value');
		dojo.byId("lb_fivehundred1").innerHTML =isNaN(r_fivehundred)?0:r_fivehundred;
		dojo.byId("rr_fivehundred1").innerHTML =isNaN(rs_fivehundred)?'0':rs_fivehundred;  
		//R100
		r_onehundred=dijit.byId('r_onehundred').get('value');
		rs_onehundred=dijit.byId('rs_onehundred').get('value');
		dojo.byId("lbr_hundred1").innerHTML =isNaN(r_onehundred)?0:r_onehundred;
		dojo.byId("rr_hundred1").innerHTML =isNaN(rs_onehundred)?'0':rs_onehundred;
		//all total in khmer
		rs_kh_total=dijit.byId('rs_kh_total').get('value');
		dojo.byId("lbr_total_1").innerHTML =dojo.number.format(isNaN(rs_kh_total)?0:rs_kh_total,2);
		//all dolla and riel
		total_amount=dijit.byId('total_amount').get('value');
		dojo.byId("lbdr_totals_amount1").innerHTML =dojo.number.format(isNaN(total_amount)?0:total_amount,2);

		rate=dijit.byId('rate').get('value');
		dojo.byId("lbr_exchange_rate").innerHTML =dojo.number.format(isNaN(rate)?0:rate,2);
		dojo.byId("lbr_exchange_rate1").innerHTML =dojo.number.format(isNaN(rate)?0:rate,2);

		dojo.byId("lb_dollar_reil1").innerHTML =isNaN(total_reil_dollar)?0:total_reil_dollar; 
		dijit.byId("inv_cash").show();	
	}
}
function Printcashcount() {
	window.frames["print_frame"].document.body.innerHTML=dojo.byId('printcashcount').innerHTML;//+dojo.byId('printcashcount1').innerHTML;
    window.frames["print_frame"].window.focus();
    window.frames["print_frame"].window.print();
    $('#cash_count').submit();
    hideDialog();
}
function hideDialog(){
	dijit.byId("inv_cash").hide();
}
</script>
<style>
</style>
<div class="dijitHidden">
	<div data-dojo-type="dijit.Dialog" style="width:25cm;top:-10px;" align="center" data-dojo-props="title:'<?php echo $tr->translate("STUDENT_PAYMENT_RECEIPT");?>'" id="inv_cash" >
		<div id="printcashcount" style="font-family:'Khmer OS Battambang';width: 20cm; height: 15cm ; padding: 0px; margin: 0px;">
			<table border="1"  width="100%" style="font-family:'Khmer OS Battambang'; font-size:10pt;border-collapse: collapse;border:none">
				<tr>
					<td align="center" style="background: #bdd6f0;border: none;">Cash Count Sheet</td>
					<td style="border:1px dashed #000;"></td>
					<td align="center" style="background: #bdd6f0;border: none;">Cash Count Sheet</td>
				</tr>
				<tr>
					<td align="center" style="border-bottom:none">អ្នកប្រគល់</td>
					<td style="border:1px dashed #000;"></td>
					<td align="center" style="border-bottom:none">អ្នកទទួល</td>
				</tr>
				<tr> 
					<td width="50%" valign="top">
						<table border="1"  cellspacing="0" style="width:100%;line-height:5px; height:170px; font-size:8pt; color:rgba(14, 0, 107, 1); padding: 0px; margin: 0px;border-collapse: collapse;border:none ">
							<tr style=" height: 16px;">
								<td >&nbsp;&nbsp;&nbsp;&nbsp; $100</td>
					            <td>&nbsp;x&nbsp;&nbsp;<label id="lb_hundred"></label></td>
					            <td>&nbsp;=&nbsp;&nbsp;<label id="rd_hundred"></label></td>
						   	</tr >
						   	<tr style=" height: 16px;">
								<td >&nbsp;&nbsp;&nbsp;&nbsp; $50</td>
					            <td>&nbsp;x&nbsp;&nbsp;<label id="lb_fifty"></label></td>
					            <td>&nbsp;=&nbsp;&nbsp;<label id="rd_fifty"></label></td>
						   	</tr>
						   	<tr style=" height: 16px;">
								<td>&nbsp;&nbsp;&nbsp;&nbsp; $20</td>
					            <td>&nbsp;x&nbsp;&nbsp;<label id="lb_tweenty"></label></td>
					            <td>&nbsp;=&nbsp;&nbsp;<label id="rd_tweenty"></label></td>
						   	</tr>
						   	<tr style=" height: 16px;">
								<td>&nbsp;&nbsp;&nbsp;&nbsp; $10</td>
					            <td>&nbsp;x&nbsp;&nbsp;<label id="lb_ten"></label></td>
					            <td>&nbsp;=&nbsp;&nbsp;<label id="rd_ten"></label></td>
						   	</tr>
						   	<tr style=" height: 16px;">
								<td>&nbsp;&nbsp;&nbsp;&nbsp; $5</td>
					            <td>&nbsp;x&nbsp;&nbsp;<label id="lb_five"></label></td>
					            <td>&nbsp;=&nbsp;&nbsp;<label id="rd_five"></label></td>
						   	</tr>
						   	<tr style=" height: 16px;">
								<td>&nbsp;&nbsp;&nbsp;&nbsp; $1</td>
					            <td>&nbsp;x&nbsp;&nbsp;<label id="lb_one"></label></td>
					            <td>&nbsp;=&nbsp;&nbsp;<label id="rd_one"></label></td>
						   	</tr>
							<tr style="height: 20px;">
								<td colspan="3" style="text-align: right;font-size: 12px;"><strong>All Total Dollars &nbsp;&nbsp;&nbsp;&nbsp;</strong>
								<strong style="font-size: 12px;">&nbsp;=&nbsp;$&nbsp;<label id="lb_total2"></strong></label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
							</tr>
							<tr style=" height: 16px;">
								<td>&nbsp;&nbsp;&nbsp;&nbsp; R50,000</td>
					            <td>&nbsp;x&nbsp;&nbsp;<label id="lb_fiftythousend"></label></td>
					            <td>&nbsp;=&nbsp;&nbsp;<label id="rr_fiftythousend"></label></td>
						   	</tr>
						   	<tr style=" height: 16px;">
								<td >&nbsp;&nbsp;&nbsp;&nbsp; R10,000</td>
					            <td>&nbsp;x&nbsp;&nbsp;<label id="lb_tenthousend"></label></td>
					            <td>&nbsp;=&nbsp;&nbsp;<label id="rr_tenhousend"></label></td>
						   	</tr>
						   	<tr style="height:16px;">
								<td >&nbsp;&nbsp;&nbsp;&nbsp; R5,000</td>
					            <td>&nbsp;x&nbsp;&nbsp;<label id="lb_fivethousend"></label></td>
					            <td>&nbsp;=&nbsp;&nbsp;<label id="rr_fivethousend"></label></td>
						   	</tr>
						   	<tr style=" height: 16px;">
								<td >&nbsp;&nbsp;&nbsp;&nbsp; R2,000</td>
					            <td>&nbsp;x&nbsp;&nbsp;<label id="lb_twothousend"></label></td>
					            <td>&nbsp;=&nbsp;&nbsp;<label id="rr_twothousend"></label></td>
						   	</tr>
						   	<tr style=" height: 16px;">
								<td>&nbsp;&nbsp;&nbsp;&nbsp; R1,000</td>
					            <td>&nbsp;x&nbsp;&nbsp;<label id="lb_thousend"></label></td>
					            <td>&nbsp;=&nbsp;&nbsp;<label id="rr_thousend"></label></td>
						   	</tr>
						   	<tr style=" height: 16px;">
								<td >&nbsp;&nbsp;&nbsp;&nbsp; R500</td>
					            <td>&nbsp;x&nbsp;&nbsp;<label id="lb_fivehundred"></label></td>
					            <td>&nbsp;=&nbsp;&nbsp;<label id="rr_fivehundred"></label></td>
						   	</tr>
						   	<tr style=" height: 16px;">
								<td >&nbsp;&nbsp;&nbsp;&nbsp; R100</td>
					            <td>&nbsp;x&nbsp;&nbsp;<label id="lbr_hundred"></label></td>
					            <td>&nbsp;=&nbsp;&nbsp;<label id="rr_hundred"></label></td>
						   	</tr>
						   	<tr style="height: 20px;">
								<td align="right" colspan="2"><strong style="font-size: 12px;">Total in Khmer &nbsp;&nbsp;&nbsp;&nbsp;</strong></td>
					            <td><strong style="font-size: 12px;">&nbsp;=&nbsp;&nbsp;R&nbsp;<label id="lbr_total_"></strong></label></td>
						   	</tr>
						   	<tr style="height: 20px;">
								<td align="right" colspan="2"><strong style="font-size: 12px;">Exchange Rate &nbsp;&nbsp;&nbsp;&nbsp;</strong></td>
					            <td ><strong style="font-size: 12px;">&nbsp;= &nbsp;R <label id="lbr_exchange_rate"></strong></label></td>
						   	</tr>
							<tr style="height: 20px;">
								<td colspan="2" style="text-align: right;font-size: 12px;"><strong>Dollar From Reil &nbsp;&nbsp;&nbsp;&nbsp;</strong></td>
								<td style=""><strong style="font-size: 12px;">&nbsp;=&nbsp;$&nbsp;<label id="lb_dollar_reil1"></strong></label></td>
							</tr>
							<tr style="height: 20px;">
								<td colspan="3" align="right" ><strong style="font-size:12px;"> All Totals :&nbsp;&nbsp;&nbsp; $<label id="lbdr_totals_amount1"></strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
							</tr>
							<tr style="height: 35px;padding:5px;border-bottom:none" >
								<td colspan="2" border="0">
									<p style="width: 95%;height: 40px;margin: 0px auto;border-bottom: 1px dotted #000;"></p>
								</td>
								<td>
									<p style="width: 95%;height: 40px;margin: 0px auto;border-bottom: 1px dotted #000;"></p>
								</td>
							</tr>
							
							
							<tr style="height: 20px;">
								<td align="center" colspan="2"><strong >អ្នកប្រគល់ : 
								<?php 
								   $session_user=new Zend_Session_Namespace('auth');
								   $last_name=$session_user->last_name;
								   $username = $session_user->first_name;
								   echo $last_name." ".$username;
								?>
								<label id="lbl_giver" ></label></strong></td>
								<td >
								   <strong style="font-size:12px; white-space: nowrap;">អ្នកទទួល : <label id="lbl_receiver" ></label>
								  </strong>
							    </td>
							</tr>
							<tr style="height:30px" >
								<td align="center" colspan="2" valign="medule"><strong style="white-space: nowrap; font-size:12px">ថ្ងៃទី..<?php echo date('D, jS/m/Y',strtotime(Zend_Date::now()));?></strong></td>
								<td  valign="medule"><strong style="font-size:12px">ថ្ងៃទី....................................</strong></td>
							</tr>
						</table>	
				</td>
				<td width="1px" style="border:1px dashed #000;"></td>
				<td width="50%" valign="top" border="0">
					<table border="1" cellspacing="0" style="width:100%;line-height:5px; height:170px; font-size:8pt; color:rgba(14, 0, 107, 1); padding: 0px; margin: 0px;border-collapse: collapse;border:none ">
						<tr style=" height: 16px;">
							<td>&nbsp;&nbsp;&nbsp;&nbsp; $100</td>
							<td>&nbsp;x&nbsp;&nbsp;<label id="lb_hundred1"></label></td>
							<td>&nbsp;=&nbsp;&nbsp;<label id="rd_hundred1"></label></td>
						</tr>
						<tr style=" height: 16px;">
							<td>&nbsp;&nbsp;&nbsp;&nbsp; $50</td>
							<td>&nbsp;x&nbsp;&nbsp;<label id="lb_fifty1"></label></td>
							<td>&nbsp;=&nbsp;&nbsp;<label id="rd_fifty1"></label></td>
						</tr>
						<tr style=" height: 16px;">
							<td>&nbsp;&nbsp;&nbsp;&nbsp; $20</td>
							<td>&nbsp;x&nbsp;&nbsp;<label id="lb_tweenty1"></label></td>
							<td>&nbsp;=&nbsp;&nbsp;<label id="rd_tweenty1"></label></td>
						</tr>
						<tr style=" height: 16px;">
							<td>&nbsp;&nbsp;&nbsp;&nbsp; $10</td>
							<td>&nbsp;x&nbsp;&nbsp;<label id="lb_ten1"></label></td>
							<td>&nbsp;=&nbsp;&nbsp;<label id="rd_ten1"></label></td>
						</tr>
						<tr style=" height: 16px;">
							<td>&nbsp;&nbsp;&nbsp;&nbsp; $5</td>
							<td>&nbsp;x&nbsp;&nbsp;<label id="lb_five1"></label></td>
							<td>&nbsp;=&nbsp;&nbsp;<label id="rd_five1"></label></td>
						</tr>
						<tr style=" height: 16px;">
							<td>&nbsp;&nbsp;&nbsp;&nbsp; $1</td>
							<td>&nbsp;x&nbsp;&nbsp;<label id="lb_one1"></label></td>
							<td>&nbsp;=&nbsp;&nbsp;<label id="rd_one1"></label></td>
						</tr>
						<tr style="height: 20px; ">
							<td colspan="3" style="text-align: right;font-size: 12px;"><strong>All Total Dollars &nbsp;&nbsp;&nbsp;&nbsp;</strong>
							<strong style="font-size: 12px;">&nbsp;=&nbsp;$&nbsp;<label id="lb_total"></strong></label>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
						</tr>
						<tr style=" height: 16px;">
							<td>&nbsp;&nbsp;&nbsp;&nbsp; R50,000</td>
							<td>&nbsp;x&nbsp;&nbsp;<label id="lb_fiftythousend1"></label></td>
							<td>&nbsp;=&nbsp;&nbsp;<label id="rr_fiftythousend1"></label></td>
						</tr>
						<tr style=" height: 16px;">
							<td>&nbsp;&nbsp;&nbsp;&nbsp; R10,000</td>
							<td>&nbsp;x&nbsp;&nbsp;<label id="lb_tenthousend1"></label></td>
							<td>&nbsp;=&nbsp;&nbsp;<label id="rr_tenhousend1"></label></td>
						</tr>
						<tr style=" height: 16px;">
							<td>&nbsp;&nbsp;&nbsp;&nbsp; R5,000</td>
							<td>&nbsp;x&nbsp;&nbsp;<label id="lb_fivethousend1"></label></td>
							<td>&nbsp;=&nbsp;&nbsp;<label id="rr_fivethousend1"></label></td>
						</tr>
						<tr style=" height: 16px;">
							<td>&nbsp;&nbsp;&nbsp;&nbsp; R2,000</td>
							<td>&nbsp;x&nbsp;&nbsp;<label id="lb_twothousend1"></label></td>
							<td>&nbsp;=&nbsp;&nbsp;<label id="rr_twothousend1"></label></td>
						</tr>
						<tr style=" height: 16px;">
							<td>&nbsp;&nbsp;&nbsp;&nbsp; R1,000</td>
							<td>&nbsp;x&nbsp;&nbsp;<label id="lb_thousend1"></label></td>
							<td>&nbsp;=&nbsp;&nbsp;<label id="rr_thousend1"></label></td>
						</tr>
						<tr style=" height: 16px;">
							<td>&nbsp;&nbsp;&nbsp;&nbsp; R500</td>
							<td>&nbsp;x&nbsp;&nbsp;<label id="lb_fivehundred1"></label></td>
							<td>&nbsp;=&nbsp;&nbsp;<label id="rr_fivehundred1"></label></td>
						</tr>
						<tr style=" height: 16px;">
							<td>&nbsp;&nbsp;&nbsp;&nbsp; R100</td>
							<td>&nbsp;x&nbsp;&nbsp;<label id="lbr_hundred1"></label></td>
							<td>&nbsp;=&nbsp;&nbsp;<label id="rr_hundred1"></label></td>
						</tr>
						<tr style="height: 20px;">
							<td align="right" colspan="2"><strong style="font-size: 12px;">Total in Khmer &nbsp;&nbsp;&nbsp;&nbsp;</strong></td>
							<td><strong style="font-size: 12px;">&nbsp;=&nbsp;&nbsp;R&nbsp;<label id="lbr_total_1"></strong></label></td>
						</tr>
						<tr style="height: 20px;">
							<td align="right" colspan="2"><strong style="font-size: 12px;">Exchange Rate &nbsp;&nbsp;&nbsp;&nbsp;</strong></td>
							<td ><strong style="font-size: 12px;">&nbsp;= &nbsp;R <label id="lbr_exchange_rate1"></strong></label></td>
						</tr>
						<tr style="height: 20px;">
							<td colspan="2" style="text-align: right;font-size: 12px;"><strong>Dollar From Reil &nbsp;&nbsp;&nbsp;&nbsp;</strong></td>
							<td style=""><strong style="font-size: 12px;">&nbsp;=&nbsp;$&nbsp;<label id="lb_dollar_reil"></strong></label></td>
						</tr>
						<tr style="height: 20px;">
							<td colspan="3" align="right" ><strong style="font-size:12px;">All Totals :&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp; <label id="lbdr_totals_amount"></strong>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
						</tr>
						<tr style="height: 35px;padding:5px;border-bottom:none" >
							<td colspan="2" border="0"><p style="width: 95%;height: 40px;margin: 0px auto;border-bottom: 1px dotted #000;"></p></td>
							<td><p style="width: 95%;height: 40px;margin: 0px auto;border-bottom: 1px dotted #000;"></p></td>
						</tr>
						<tr style="height: 20px;">
							<td align="center" colspan="2"><strong style="font-size:12px" >អ្នកប្រគល់ : <?php 
							   $session_user=new Zend_Session_Namespace('auth');
							   $last_name=$session_user->last_name;
							   $username = $session_user->first_name;
							   echo $last_name." ".$username;
							?><label id="lbl_giver"></label></strong>
							</td>
							<td ><strong style="font-size:12px" >&nbsp;&nbsp;&nbsp;អ្នកទទួល : <label id="lbl_receiver"></label></strong></td>
						</tr>
						<tr style="height: 30px;">
							<td colspan="2" align="center" valign="medule"><strong style="white-space: nowrap;" >ថ្ងៃទី..<?php echo date('D, jS/m/Y',strtotime(Zend_Date::now()));?></strong></td>
							<td  valign="medule"><strong style="display:block;width:50%;color:blank; white-space: nowrap;">ថ្ងៃទី....................................</strong></td>
						</tr>
				    </table>
				</td>
		</tr>
		</table>
	</div>
		<iframe name=print_frame width=0 height=0 frameborder=0 src=about:blank></iframe>	
		<button dojoType="dijit.form.Button" iconClass="dijitEditorIcon dijitEditorIconCancel"
			type="button" onclick="hideDialog();">បោះបង់</button>
		<button dojoType="dijit.form.Button" iconClass="dijitEditorIcon dijitEditorIconPrint"
			type="button" onclick="Printcashcount();">រក្សាទុក/បោះពុម្ភ</button>
	</div>
</div>	