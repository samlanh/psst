<?php 
$tr=Application_Form_FrmLanguages::getCurrentlanguage();
echo $this->headTitle($tr->translate("PLACEMENT_TEST"));
$_dbgb= new Application_Model_DbTable_DbGlobal();
$_dbpl= new Application_Model_DbTable_DbPlacementTest();

$placemnet_id = $this->exam_id; 
$truefalseList=$_dbgb->getOptionTrueFalse(1,1);
?>
 			 <style>
				.blog-score .title-label h2 {
				    background: #2b3695;
				    padding: 10px;
				    color: #fff;
				    font-weight: 600;
				    text-transform: uppercase;
				}
				.left-content .test-score {
				    font-size: 20px;
				}
				ul span.lb-value span.score-result {
				    display: inline-block;
				    font-weight: 600;
				    padding: 3px;
				    color: #ec0000;
				}
				ul.review-anserwer {
				    padding: 0;
				}
				ul.review-anserwer li {
				    display: inline-block;
				    width: 27%;
				}
				ul.review-anserwer li input {
				    text-align: center;
				}
				span.answer-status i {
				    font-size: 14px;
				}
				.answer-opt.col4 li {
				    padding: 0 6px;
				}
				li.border-correct {
				    border: solid 1px #1abb9c;
				}
				.blue {
				    color: #293e9a;
				}
            </style>
        	<div class="col-md-3 left_col ">
          		<div class="left_col scroll-view">
		            <div class="navbar nav_title">
		            	<?php 
							echo $this->render('logobranch.phtml');
						?>
		            </div>
            		<div class="clearfix"></div>
            		
            		<div class="left-content">
            			<div class="blog-score">
            				<div class="title-label">
		            			<h2><i class="fa fa-trophy" aria-hidden="true"></i> <?php echo $tr->translate("RESULT");?></h2>
		            		</div>
		            		<div class="test-score">
		            			<ul>
		            				<li><span class="lb-title"><?php echo $tr->translate("SCORE");?></span> : <span class="lb-value"> <span class="score-result"><?php echo $this->result_score;?></span>/<?php echo $this->totalPoint;?> </strong></span></li>
		            			</ul>
		            		</div>
            			</div>
	            	</div>
            	</div>
            	
            </div>
            <!-- page content -->
       		<div class="right_col" role="main" >
       		 	<div class="right-conten" style="min-height: 570px;">
       		 		<div style="clear:both;"></div>
       		 		<form action="" dojoType="dijit.form.Form" method="post" enctype="multipart/form-data">
       		 			<section class="inputmask">
							<div class="row">
						    	<div class="col-sm-12">
						    		<div class="reportblog">
						    			<div class="header-row">
						    				<?php echo $this->rsheader;?>
						    			</div>
						    			<div class="content exam-test-data">
						    				<div class="title-examination text-center">
						    					<?php if (!empty($this->setting)){?>
						    					<h2><?php echo $this->setting['test_type_title'];?></h2>
						    					<?php }?>
						    				</div>
						    				<?php 
						    				$parent=0;
						    				$section=0;
						    				$number=0;
						    				if (!empty($this->question)) foreach ($this->question as $key => $rs){ ?>
						    					<?php if ($parent!=$rs['parent']){ if (!empty($rs['parent_title'])){?>
							    					<div class="section-exam">
							    						<div class="section-exam-title">
								    						<h2><?php echo $rs['parent_title'];?></h2>
								    						<?php if (!empty($rs['parent_instruction'])){?>
								    						<small>Instruction: <?php echo $rs['parent_instruction'];?></small>
								    						<?php }?>
								    					</div>
							    					</div>
							    					<?php }
						    						}?>
						    						<?php if ($section!=$rs['section_id']){ $number=0; ?>
						    						<div class="section-exam">
							    						<div class="section-exam-title <?php if (!empty($rs['parent'])){ echo "sub-section";}?>">
								    						<h2><?php echo $rs['section_title'];?></h2>
								    						<?php if (!empty($rs['instruction'])){?>
								    						<small>Instruction: <?php echo $rs['instruction'];?></small>
								    						<?php }?>
								    					</div>
							    					</div>
						    						<?php }?>
						    						<?php 
						    						$number++;
						    						?>
						    						
						    						
						    						<?php 
						    						$question_type = $rs['question_type'];
						    						//Question Block
						    						if ($question_type==1){ //Ordering Question
						    							$rowQ = $_dbgb->getQuestionDetailById($rs['id']);
						    							$question_id = $rs['id'];
						    							if (!empty($rowQ)){
						    							?>
						    							<div class="section-exam-question">
								    						<ul>
								    							<li>
								    								<div class="answer-blog">
								    									<ul>
											    							<?php foreach ($rowQ as $index => $question){ $keyIndex = $index+1;?>
											    							<li class="answer-opt col5">
												    							<?php if (!empty($question['answer_label'])){?>
												    								<span class="question-num"><?php echo $keyIndex?>.</span> <?php echo $question['answer_label'];?>
												    							<?php }else{
												    								$result = $_dbpl->getPlacementTestAnswerRow($placemnet_id, $question_id, $question['id']);
												    							?>
												    							
												    							<div class="row-data">
													    							<span class="question-num"><?php echo $keyIndex?>.</span>
													    							<div class="fill-in">
													    								<ul class="review-anserwer">
													    									<li><?php echo $question['answer_key'];?></li>
													    									<li><input readonly="readonly" class="full-width text-center" type="text" onChange="enterAnswer('<?php echo $question_type;?>','<?php echo $question_id;?>','<?php echo $question['id'];?>');" id="answere_<?php echo $question_id."_".$question['id'];?>" name="answere_<?php echo $question_id."_".$question['id'];?>" dojoType="dijit.form.TextBox" placeholder="<?php echo $tr->translate("Enter Answer");?>" value="<?php if (!empty($result)){ echo $result['answer_key']; }?>" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"  ></li>
													    									<li>
													    										<span class="answer-status">
													    											<?php if ($result['point']>0){?>
														    										<i class="blue fa fa-check" aria-hidden="true"></i>
														    										<?php }else{?>
														    										<i class="red fa fa-times" aria-hidden="true"></i>
														    										<?php }?>
													    										</span>
													    									</li>
													    								</ul>
													    							</div>
												    							</div>
												    							<?php }?>
											    							</li>
											    							<?php }?>
										    								
						    											</ul>
						    										</div>
						    									</li>
						    								</ul>
						    							</div>
						    							<?php }?>
						    						<?php }else if ($question_type==2){ //Image With Multi Choice
						    							$image = $this->baseUrl().'/images/no-photo.png';
						    							if (!empty($rs['images'])){
						    								if (file_exists(PUBLIC_PATH."/images/placement/".$rs['images'])){
						    									$image = $this->baseUrl()."/images/placement/".$rs['images'];
						    								}
						    							}
						    							?>
						    							<?php 
						    							$is_example = $rs['is_example'];
						    							if ($is_example!=1){
						    							$question_id = $rs['id'];
						    							$rowQ = $_dbgb->getQuestionDetailById($rs['id']);
						    							if (!empty($rowQ)){
						    								?>
						    									<div class="image-question answer-opt col4">
								    								<span class="question-num"><?php echo $number?>.</span>
								    								<img class="img-question" src="<?php echo $image;?>" />
								    								<ul>
								    									<?php foreach ($rowQ as $index => $question){ $keyIndex = $index+1;
								    									$result = $_dbpl->getPlacementTestAnswerRow($placemnet_id, $question_id, $question['id']);
								    									?>
							    										<li class="<?php if ($question['is_correct']==1){ echo "border-correct";}?>">
							    											<input readonly="readonly" disabled="disabled" type="radio" <?php if (!empty($result)){ echo 'checked="checked"';}?> onClick="enterAnswer('<?php echo $question_type;?>','<?php echo $question_id;?>','<?php echo $question['id'];?>');" id="answere_<?php echo $question_id;?>" name="answere_<?php echo $question_id; ?>" value="<?php echo $question['answer_label'];?>"> <!-- <span class="question-num"><?php //echo $index+1?>.</span> --> <?php echo $question['answer_label'];?>
							    											<span class="answer-status">
								    											<?php if (!empty($result)){ 
								    												if ($question['is_correct']==1){
								    												?>
										    										<i class="blue fa fa-check" aria-hidden="true"></i>
										    										<?php }else{?>
										    										<i class="red fa fa-times" aria-hidden="true"></i>
										    										<?php }
									    											}?>
								    										</span>
							    										</li>
							    										<?php }?>
								    								</ul>
								    							</div>
						    							<?php }?>
						    							<?php }?>
						    						<?php }else if ($question_type==3){ //Image Word Matching
						    							$image = $this->baseUrl().'/images/no-photo.png';
						    							if (!empty($rs['images'])){
						    								if (file_exists(PUBLIC_PATH."/images/placement/".$rs['images'])){
						    									$image = $this->baseUrl()."/images/placement/".$rs['images'];
						    								}
						    							}
						    							?>	
						    							<?php 
						    							$is_example = $rs['is_example'];
						    							if ($is_example!=1){
						    								
						    							$question_id = $rs['id'];
						    							$rowQ = $_dbgb->getQuestionDetailById($rs['id']);
						    							if (!empty($rowQ)){
						    								?>
						    								<div class="image-question answer-opt col2">
								    								<div class="two-blog ans-left">
								    									<span class="question-num"><?php echo $number?>. <span><?php echo $rs['question_title'];?></span></span>
									    								<div class="row-data">
											    							<span class="question-num"></span>
											    							<div class="fill-in">
											    								<img class="img-question" src="<?php echo $image;?>" />
											    							</div>
										    							</div>
								    								</div>
								    								<div class="two-blog ans-right">
								    									<ul>
									    									<?php foreach ($rowQ as $index => $question){ $keyIndex = $index+1;
									    									$result = $_dbpl->getPlacementTestAnswerRow($placemnet_id, $question_id, $question['id']);
									    									?>
								    										<li class="<?php if ($question['is_correct']==1){ echo "border-correct";}?>">
								    											<input readonly="readonly" disabled="disabled" type="radio" <?php if (!empty($result)){ echo 'checked="checked"';}?> onClick="enterAnswer('<?php echo $question_type;?>','<?php echo $question_id;?>','<?php echo $question['id'];?>');" id="answere_<?php echo $question_id; ?>" name="answere_<?php echo $question_id; ?>" value="<?php echo $question['answer_label'];?>"><!--  <span class="question-num"><?php //echo $keyIndex;?>.</span> --> <?php echo $question['answer_label'];?>
								    											<span class="answer-status">
								    											<?php if (!empty($result)){ 
								    												if ($question['is_correct']==1){
								    												?>
										    										<i class="blue fa fa-check" aria-hidden="true"></i>
										    										<?php }else{?>
										    										<i class="red fa fa-times" aria-hidden="true"></i>
										    										<?php }
									    											}?>
								    										</span>
								    										</li>
								    										<?php }?>
									    								</ul>
								    								</div>
								    								
								    							</div>
						    							<?php }?>
						    							<?php }?>
						    						<?php }else if ($question_type==4){ //Image Identitification?>
						    							
						    							<?php 
						    							$question_id = $rs['id'];
						    							$rowQ = $_dbgb->getQuestionDetailById($rs['id']);
						    							if (!empty($rowQ)){
						    								?>
						    							<div class="section-exam-question ">
								    						<ul>
								    							<li>
								    								<div class="answer-blog">
								    									<ul>
											    							<?php foreach ($rowQ as $index => $question){ $keyIndex = $index+1;
											    								$image = $this->baseUrl().'/images/no-photo.png';
											    								if (!empty($question['image'])){
											    									if (file_exists(PUBLIC_PATH."/images/placement/".$question['image'])){
											    										$image = $this->baseUrl()."/images/placement/".$question['image'];
											    									}
											    								}
											    								$result = $_dbpl->getPlacementTestAnswerRow($placemnet_id, $question_id, $question['id']);
											    							?>
											    							<li class="answer-opt col4">
											    								
											    								<div class="image-class">
											    									<img class="img-question" src="<?php echo $image;?>" />
											    								</div>
											    								<div class="row-data">
													    							<span class="question-num"><?php echo $keyIndex;?>.</span>
													    							<div class="fill-in">
													    								<span style="display: block; width: 100%;" ><?php echo $question['answer_key'];?></span>
														    							<input class="full-width" style="width: 70%;" readonly="readonly" disabled="disabled" type="text" onChange="enterAnswer('<?php echo $question_type;?>','<?php echo $question_id;?>','<?php echo $question['id'];?>');" id="answere_<?php echo $question_id."_".$question['id']; ?>" name="answere_<?php echo $question_id."_".$question['id']; ?>" dojoType="dijit.form.TextBox" placeholder="<?php echo $tr->translate("Enter Answer");?>" value="<?php if (!empty($result)){ echo $result['answer_key']; }?>" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"  >
													    								<span class="answer-status">
											    											<?php if ($result['point']>0){?>
												    										<i class="blue fa fa-check" aria-hidden="true"></i>
												    										<?php }else{?>
												    										<i class="red fa fa-times" aria-hidden="true"></i>
												    										<?php }?>
											    										</span>
													    							</div>
												    							</div>
											    							</li>
											    							<?php }?>
										    								
						    											</ul>
						    										</div>
						    									</li>
						    								</ul>
						    							</div>
						    							<?php }?>
						    							
						    						<?php }else if ($question_type==5){ //Fill Missing Word?>
						    							<?php 
						    							$question_id = $rs['id'];
						    							$rowQ = $_dbgb->getQuestionDetailById($rs['id']);
						    							if (!empty($rowQ)){
						    								?>
						    							<div class="section-exam-question two-blog">
								    						<ul>
								    							<li>
								    								<div class="text-center">
								    									<?php echo $rs['question_title'];?>
								    								</div>
								    								<div class="answer-blog">
								    									<ul>
											    							<?php foreach ($rowQ as $index => $question){ $keyIndex = $index+1;?>
											    							<li class="answer-opt col1">
												    							<?php if (!empty($question['answer_label'])){?>
												    								<span class="question-num"><?php echo $keyIndex;?>.</span> <?php echo $question['answer_label'];?>
												    							<?php }else{
												    								$result = $_dbpl->getPlacementTestAnswerRow($placemnet_id, $question_id, $question['id']);
												    							?>
												    							
												    							<div class="row-data">
													    							<span class="question-num"><?php echo $keyIndex;?>.</span>
													    							<div class="fill-in">
													    								<span style="display: block; width: 100%;" ><?php echo $question['answer_key'];?></span>
														    							<input class="full-width" style="width: 70%;" readonly="readonly" disabled="disabled" type="text" onChange="enterAnswer('<?php echo $question_type;?>','<?php echo $question_id;?>','<?php echo $question['id'];?>');" id="answere_<?php echo $question_id."_".$question['id']; ?>" name="answere_<?php echo $question_id."_".$question['id'];?>" dojoType="dijit.form.TextBox" placeholder="<?php echo $tr->translate("Enter Answer");?>" value="<?php if (!empty($result)){ echo $result['answer_key']; }?>" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" >
													    								<span class="answer-status">
											    											<?php if ($result['point']>0){?>
												    										<i class="blue fa fa-check" aria-hidden="true"></i>
												    										<?php }else{?>
												    										<i class="red fa fa-times" aria-hidden="true"></i>
												    										<?php }?>
											    										</span>
													    							</div>
												    							</div>
												    							<?php }?>
											    							</li>
											    							<?php }?>
										    								
						    											</ul>
						    										</div>
						    									</li>
						    								</ul>
						    							</div>
						    							<?php }?>
						    								
						    						<?php }else if ($question_type==6){ //Matching I?>
						    						
						    							<?php 
						    							$question_id = $rs['id'];
						    							$rowQ = $_dbgb->getQuestionDetailById($rs['id']);
						    							if (!empty($rowQ)){
						    								?>
						    							<div class="section-exam-question ">
								    						<ul>
								    							<li>
								    								<div class="answer-blog">
								    									<div class="two-blog">
									    									<div class="text-center">
										    									A
										    								</div>
									    									<ul>
												    							<?php $tdHead=""; 
												    							$tdRow="";
												    							$options= '<option value="" >'.htmlspecialchars($tr->translate("SELECT_ANSWER"), ENT_QUOTES).'</option>';
												    							foreach ($rowQ as $index => $question){ 
												    								$colB = $question['column_b'];
												    								$sppB = str_split($question['column_b']);
												    								$options .= '<option value="'.$colB.'" >'.htmlspecialchars($sppB[0], ENT_QUOTES).'</option>';
												    								$tdHead.='<td align="center">'.($index+1).'</td>';
												    								
												    								$spp = str_split($question['answer_key']);
												    								$tdRow.="<td align='center'> <strong style=' padding: 2px;  width: 100%; display: block;'>".$spp[0]."</strong> </td>";
												    								
												    								?>
												    							<li class="answer-opt col1">
												    								<span class="question-num"><?php echo $index+1;?>.</span> <?php echo $question['answer_label'];?>
												    							</li>
												    							<?php }?>
											    								
							    											</ul>
								    									</div>
								    									
											    										
								    									<div class="two-blog">
									    									<div class="text-center">
										    									B
										    								</div>
									    									<ul>
												    							<?php 
												    							$script='';
												    							$tdAnswer="";
												    							$answerStatus="";
												    							foreach ($rowQ as $index => $question){ $keyIndex = $index+1;
												    								$result = $_dbpl->getPlacementTestAnswerRow($placemnet_id, $question_id, $question['id']);
												    								$answerStatus="";
												    								if (!empty($result)){
												    									if ($question['is_example']!=1){
												    									$answerStatus.='<span class="answer-status">';
												    									if ($result['point']>0){
												    										$answerStatus.='<i class="blue fa fa-check" aria-hidden="true"></i>';
												    									}else{
												    										$answerStatus.='<i class="red fa fa-times" aria-hidden="true"></i>';
												    									}
												    									$answerStatus.='</span>';
												    									}
												    								}
												    								$tdAnswer.='<td align="center">'.$answerStatus.'<select style=" text-align: center; width: 90%;" readonly="readonly" disabled="disabled" onChange="enterAnswer('."'".$question_type."'".','."'".$question_id."'".','."'".$question['id']."'".');" id="answere_'.$question_id."_".$question['id'].'" name="answere_'.$question_id."_".$question['id'].'" class="option-answer full-width" dojoType="dijit.form.FilteringSelect">';
												    								if (!empty($result)){
												    									$opti= '<option value="" >'.htmlspecialchars($tr->translate("SELECT_ANSWER"), ENT_QUOTES).'</option>';
													    								foreach ($rowQ as $index => $quest){
												    										$selected = '';
												    										if ($quest['column_b']==$result['answer_key']){
												    											$selected = 'selected="selected"';
												    										}
												    										$colB = $quest['column_b'];
												    										$sppB = str_split($quest['column_b']);
												    										$opti.= '<option '.$selected.' value="'.$colB.'" >'.htmlspecialchars($sppB[0], ENT_QUOTES).'</option>';
												    									}
												    									$tdAnswer.=$opti;
												    								}else{
												    									$tdAnswer.=$options;
												    								}
												    								$tdAnswer.='</select></td>';
												    								
												    							?>
												    							<li class="answer-opt col1">
												    								<?php echo $question['column_b'];?>
												    							</li>
												    							<?php }?>
							    											</ul>
								    									</div>
								    									<table class="table_answer" border="1">
								    										<tr>
								    											<?php echo $tdHead;?>
								    										</tr>
								    										<tr>
								    											<?php echo $tdRow;?>
								    										</tr>
								    										<tr>
								    											<?php echo $tdAnswer;?>
								    										</tr>
								    									</table>
						    										</div>
						    									</li>
						    								</ul>
						    							</div>
						    							<?php }?>
						    							
						    						<?php }else if ($question_type==7){ //Complete Sentence with Image?>
						    						
						    						<?php 
						    						
							    						$image = $this->baseUrl().'/images/no-photo.png';
							    						if (!empty($rs['images'])){
							    							if (file_exists(PUBLIC_PATH."/images/placement/".$rs['images'])){
							    								$image = $this->baseUrl()."/images/placement/".$rs['images'];
							    							}
							    						}
							    						$question_id = $rs['id'];
						    							$rowQ = $_dbgb->getQuestionDetailById($rs['id']);
						    							$optAnswer = $_dbgb->getGetAnswerKeyById($rs['section_id'],$rs['question_type'],1);
						    							$answerList = $_dbgb->getGetAnswerKeyById($rs['section_id'],$rs['question_type']);
						    							
						    							$is_example = $rs['is_example'];
						    							if ($is_example!=1){
							    							if (!empty($rowQ)){
							    								?>
							    							<div class="section-exam-question ">
									    						<ul>
									    							<li>
									    								<div class="answer-blog">
									    									<ul>
									    										<li class="answer-opt col1">
													    							<div class="row-data view-image-opt">
													    								<span class="question-num"><?php echo $number?>.</span>
													    								<span class="inline-value">
													    								<img class="img-question" src="<?php echo $image;?>" />
													    								</span>
												    									<?php foreach ($rowQ as $index => $question){ $keyIndex = $index+1;?>
														    								
														    								<span class="inline-value">
														    								<?php 
														    									echo $question['answer_label'];
														    								?>
														    								</span>
														    								<span class="inline-value ">
														    									<span style="display: block;width: 100%;border-bottom: solid 1px #332f2f;text-align: center;"><?php echo $question['answer_key'];?></span>
														    									<select class="option-answer full-width" style="width: 90%;" readonly="readonly" disabled="disabled" onChange="enterAnswer('<?php echo $question_type;?>','<?php echo $question_id;?>','<?php echo $question['id'];?>');" id="answere_<?php echo $question_id."_".$question['id']; ?>" name="answere_<?php echo $question_id."_".$question['id']; ?>" dojoType="dijit.form.FilteringSelect" >
														    									<?php 
														    									$answerStatus="";
														    									$result = $_dbpl->getPlacementTestAnswerRow($placemnet_id, $question_id, $question['id']);
														    									if (!empty($result)){
														    										$answerStatus="";
														    										if (!empty($result)){
														    											if ($question['is_example']!=1){
														    												$answerStatus.='<span class="answer-status">';
														    												if ($result['point']>0){
														    													$answerStatus.='<i class="blue fa fa-check" aria-hidden="true"></i>';
														    												}else{
														    													$answerStatus.='<i class="red fa fa-times" aria-hidden="true"></i>';
														    												}
														    												$answerStatus.='</span>';
														    											}
														    										}
														    										$opti= '<option value="" >'.htmlspecialchars($tr->translate("SELECT_ANSWER"), ENT_QUOTES).'</option>';
														    										foreach ($answerList as $quest){
														    											$selected = '';
														    											if ($quest['answer_key']==$result['answer_key']){
														    												$selected = 'selected="selected"';
														    											}
														    											$colB = $quest['answer_key'];
														    											$opti.= '<option '.$selected.' value="'.$quest['answer_key'].'" >'.htmlspecialchars($colB, ENT_QUOTES).'</option>';
														    										}
														    										echo $opti;
														    									}else{
														    										echo $optAnswer;
														    									}
														    									
														    									?>
														    									</select>
														    									<?php echo $answerStatus;?>
														    								</span>
												    								<?php }?>
											    									</div>
												    							</li>
							    											</ul>
							    										</div>
									    							</li>
									    						</ul>
									    					</div>
									    					<?php }?>
								    					<?php }?>
								    					
						    						<?php }else if ($question_type==8){ //Complete the sentences Layout (words in the box)?>
						    						
						    						<?php 
						    							$question_id = $rs['id'];
						    							$rowQ = $_dbgb->getQuestionDetailById($rs['id']);
						    							$optAnswer = $_dbgb->getGetAnswerKeyById($rs['section_id'],$rs['question_type'],1);
						    							$answerList = $_dbgb->getGetAnswerKeyById($rs['section_id'],$rs['question_type']);
						    							
						    							$is_example = $rs['is_example'];
							    							if (!empty($rowQ)){
							    								?>
							    							<div class="section-exam-question ">
									    						<ul>
									    							<li>
									    								<div class="answer-blog">
									    									<?php if ($number==1){?>
									    									<div style="text-align: center;margin: 20px 0;">
										    									<table class="table_answer" border="1" style="width: 60%;margin: 0 auto;">
										    										<tr>
										    											<td align="center">
										    											<?php if (!empty($answerList)) foreach ($answerList as $rr){ echo "<span class='value-list'>".$rr['answer_key']."<span>"; }?>
										    											</td>
										    										</tr>
										    									</table>
									    									</div>
									    									<?php }?>
									    									
									    									<ul>
									    										<?php if ($is_example!=1){?>
									    										<li class="answer-opt col1">
									    											<span class="inline-value ">
									    											<span class="question-num"><?php echo $number?>.</span>
									    											</span>
												    									<?php foreach ($rowQ as $index => $question){ $keyIndex = $index+1; ?>
														    								<?php if (empty($question['answer_label'])){?>
														    								<span class="inline-value ">
														    									<span style="display: block;width: 100%;border-bottom: solid 1px #332f2f;text-align: center;">
														    									<?php echo $question['answer_key'];?>
														    									</span>
															    								<select class="option-answer full-width" style="width: 90%;" readonly="readonly" disabled="disabled" onChange="enterAnswer('<?php echo $question_type;?>','<?php echo $question_id;?>','<?php echo $question['id'];?>');" id="answere_<?php echo $question_id."_".$question['id']; ?>" name="answere_<?php echo $question_id."_".$question['id']?>" dojoType="dijit.form.FilteringSelect" >
															    								<?php $result = $_dbpl->getPlacementTestAnswerRow($placemnet_id, $question_id, $question['id']);
														    									if (!empty($result)){
														    										$answerStatus="";
														    										if (!empty($result)){
														    											if ($question['is_example']!=1){
														    												$answerStatus.='<span class="answer-status">';
														    												if ($result['point']>0){
														    													$answerStatus.='<i class="blue fa fa-check" aria-hidden="true"></i>';
														    												}else{
														    													$answerStatus.='<i class="red fa fa-times" aria-hidden="true"></i>';
														    												}
														    												$answerStatus.='</span>';
														    											}
														    										}
														    										
														    										$opti= '<option value="" >'.htmlspecialchars($tr->translate("SELECT_ANSWER"), ENT_QUOTES).'</option>';
														    										foreach ($answerList as $quest){
														    											$selected = '';
														    											if ($quest['answer_key']==$result['answer_key']){
														    												$selected = 'selected="selected"';
														    											}
														    											$colB = $quest['answer_key'];
														    											$opti.= '<option '.$selected.' value="'.$quest['answer_key'].'" >'.htmlspecialchars($colB, ENT_QUOTES).'</option>';
														    										}
														    										echo $opti;
							    																}else{
							    																	echo $optAnswer;
							    																}?>
															    								</select>
															    								<?php echo $answerStatus;?>
														    								</span>
														    								<?php }else{?>
														    								<span class="inline-value ">
														    									<?php echo $question['answer_label'];?>
														    								</span>
														    								<?php }?>
												    								<?php }?>
												    							</li>
												    							<?php }?>
							    											</ul>
							    										</div>
									    							</li>
									    						</ul>
									    					</div>
									    				<?php }?>
								    					
						    						<?php }else if ($question_type==9){ //Complete the sentences Layout I (In Row Sentence)?>
						    						
						    						<?php 
						    							
						    							$question_id = $rs['id'];
						    							$rowQ = $_dbgb->getQuestionDetailById($rs['id']);
						    							
						    							$is_example = $rs['is_example'];
						    							if ($is_example!=1){
						    							if (!empty($rowQ)){
						    								?>
						    							<div class="section-exam-question ">
								    						<ul>
								    							<li>
								    								<input type="hidden" value="<?php echo $rs['id'];?>" id="question_id_<?php echo $key+1?>" name="question_id_<?php echo $key+1?>">
								    								<div class="answer-blog">
								    									<ul>
								    										<li class="answer-opt col1">
								    											<span class="inline-value ">
								    											<span class="question-num"><?php echo $number?>.</span>
								    											</span>
											    									<?php $keyIndex=0; foreach ($rowQ as $index => $question){ 
											    										$keyIndex = $index+1;
											    										$result = $_dbpl->getPlacementTestAnswerRow($placemnet_id, $question_id, $question['id']);
											    									?>
													    								<?php if (empty($question['answer_label'])){?>
													    								<span class="inline-value ">
													    									<span style="display: block;width: 100%;border-bottom: solid 1px #332f2f;text-align: center;">
													    									<?php echo $question['answer_key'];?>
													    									</span>
														    								<input class="full-width" style="width: 90%;" readonly="readonly" disabled="disabled" type="text" onChange="enterAnswer('<?php echo $question_type;?>','<?php echo $question_id;?>','<?php echo $question['id'];?>');" id="answere_<?php echo $question_id."_".$question['id']?>" name="answere_<?php echo $question_id."_".$question['id']; ?>" value="<?php if (!empty($result)){ echo $result['answer_key']; }?>" dojoType="dijit.form.TextBox"  placeholder="<?php echo $tr->translate("Enter Answer");?>" autocomplete="off" dojoType="dijit.form.TextBox" autocorrect="off" autocapitalize="off" spellcheck="false" >
													    									<span class="answer-status">
												    											<?php if ($result['point']>0){?>
													    										<i class="blue fa fa-check" aria-hidden="true"></i>
													    										<?php }else{?>
													    										<i class="red fa fa-times" aria-hidden="true"></i>
													    										<?php }?>
												    										</span>
													    								</span>
													    								<?php }else{?>
													    								<span class="inline-value ">
													    									<?php echo $question['answer_label'];?>
													    								</span>
													    								<?php }?>
													    								
												    							
											    								<?php }?>
											    							</li>
						    											</ul>
						    										</div>
								    							</li>
								    						</ul>
								    					</div>
								    					<?php }?>
								    					<?php }?>
								    					
						    						<?php }else if ($question_type==10){ //Complete the sentences Layout II (In Row Sentence)?>
						    						<?php }else if ($question_type==11){ //Reported Speech?>
						    						<?php 
						    							$question_id = $rs['id'];
						    							$rowQ = $_dbgb->getQuestionDetailById($rs['id']);
						    							if (!empty($rowQ)){
						    								?>
						    							<div class="section-exam-question ">
								    						<ul>
								    							<li>
								    								<input type="hidden" value="<?php echo $rs['id'];?>" id="question_id_<?php echo $key+1?>" name="question_id_<?php echo $key+1?>">
								    								<div class="answer-blog">
								    									<ul>
											    							<?php foreach ($rowQ as $index => $question){ 
											    								$keyIndex = $index+1; 
											    								if ($question['is_example']!=1){
											    								$result = $_dbpl->getPlacementTestAnswerRow($placemnet_id, $question_id, $question['id']);
											    							?>
											    							<li class="answer-opt col1">
												    							<div class="row-data">
												    									<span class="question-num"><?php echo $keyIndex; ?>.</span> <?php echo $question['answer_label'];?>
												    							</div>
												    							<div class="row-data">
												    								<strong style="display: block; font-style:italic; width: 100%;border-bottom: solid 1px #332f2f;text-align: left;">
												    									<?php echo $question['answer_key'];?>
												    									</strong>
													    							<input class="full-width" type="text" style="width: 90%;" readonly="readonly" disabled="disabled" onChange="enterAnswer('<?php echo $question_type;?>','<?php echo $question_id;?>','<?php echo $question['id'];?>');" id="answere_<?php echo $question_id."_".$question['id']; ?>" name="answere_<?php echo $question_id."_".$question['id'];?>" dojoType="dijit.form.TextBox" value="<?php if (!empty($result)){ echo $result['answer_key']; }?>"  autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false" placeholder="<?php echo $tr->translate("Enter Answer");?>"  >
											    									<span class="answer-status">
										    											<?php if ($result['point']>0){?>
											    										<i class="blue fa fa-check" aria-hidden="true"></i>
											    										<?php }else{?>
											    										<i class="red fa fa-times" aria-hidden="true"></i>
											    										<?php }?>
										    										</span>
												    							</div>
											    							</li>
											    							<?php }?>
											    							<?php }?>
										    								
						    											</ul>
						    										</div>
						    									</li>
						    								</ul>
						    							</div>
						    							<?php }?>
						    						<?php }else if ($question_type==12){ //Multiple Choices 4 Column?>
							    						<?php if ($number==1){?>
							    							<?php echo $rs['article']; ?>
							    						<?php }?>
							    						
							    						<?php 
							    						$question_id = $rs['id'];
						    							$rowQ = $_dbgb->getQuestionDetailById($rs['id']);
						    							$is_example = $rs['is_example'];
						    							if ($is_example!=1){
						    							if (!empty($rowQ)){
						    								?>
						    							<div class="section-exam-question ">
								    						<ul>
								    							<li>
								    								<div class="answer-blog">
								    									<span class="question-num"><?php echo $number?>.</span> <?php echo $rs['question_title'];?>
								    									<ul>
								    										<?php foreach ($rowQ as $index => $question){ 
								    											$keyIndex = $index+1; 
								    											$result = $_dbpl->getPlacementTestAnswerRow($placemnet_id, $question_id, $question['id']);
								    										?>
								    										<li class="answer-opt col4 <?php if ($question['is_correct']==1){ echo "border-correct";}?>">
								    											<input type="radio" readonly="readonly" disabled="disabled" <?php if (!empty($result)){ echo 'checked="checked"';}?> onClick="enterAnswer('<?php echo $question_type;?>','<?php echo $question_id;?>','<?php echo $question['id'];?>');" id="answere_<?php echo $question_id; ?>" name="answere_<?php echo $question_id; ?>" value="<?php echo $question['answer_label'];?>">  <?php echo $question['answer_label'];?>
								    											<span class="answer-status">
								    											<?php if (!empty($result)){ 
								    												if ($question['is_correct']==1){
								    												?>
										    										<i class="blue fa fa-check" aria-hidden="true"></i>
										    										<?php }else{?>
										    										<i class="red fa fa-times" aria-hidden="true"></i>
										    										<?php }
									    											}?>
								    											</span>
								    										</li>
								    										<?php }?>
						    											</ul>
						    										</div>
						    									</li>
						    								</ul>
						    							</div>
						    							<?php }?>
						    							<?php }?>
						    							
						    						<?php }else if ($question_type==13){ //Multiple Choices 2 Column?>
						    							<?php if ($number==1){?>
							    							<?php echo empty($rs['article'])?"":$rs['article']; ?>
							    						<?php }?>
						    							<?php 
							    						$question_id = $rs['id'];
						    							$rowQ = $_dbgb->getQuestionDetailById($rs['id']);
						    							if (!empty($rowQ)){
						    								?>
						    							<div class="section-exam-question ">
								    						<ul>
								    							<li>
								    								<div class="answer-blog">
								    									<span class="question-num"><?php echo $number?>.</span> <?php echo $rs['question_title'];?>
								    									<ul>
								    										<?php foreach ($rowQ as $index => $question){ 
								    											$keyIndex = $index+1; 
								    											$result = $_dbpl->getPlacementTestAnswerRow($placemnet_id, $question_id, $question['id']);
								    										?>
								    										<li class="answer-opt col2 <?php if ($question['is_correct']==1){ echo "border-correct";}?>">
								    											<input type="radio" readonly="readonly" disabled="disabled" <?php if (!empty($result)){ echo 'checked="checked"';}?> onClick="enterAnswer('<?php echo $question_type;?>','<?php echo $question_id;?>','<?php echo $question['id'];?>');" id="answere_<?php echo $question_id; ?>" name="answere_<?php echo $question_id; ?>" value="<?php echo $question['answer_label'];?>">  <?php echo $question['answer_label'];?>
								    											<span class="answer-status">
								    											<?php if (!empty($result)){ 
								    												if ($question['is_correct']==1){
								    												?>
										    										<i class="blue fa fa-check" aria-hidden="true"></i>
										    										<?php }else{?>
										    										<i class="red fa fa-times" aria-hidden="true"></i>
										    										<?php }
									    											}?>
								    											</span>
								    										</li>
								    										<?php }?>
						    											</ul>
						    										</div>
						    									</li>
						    								</ul>
						    							</div>
						    							<?php }?>
						    						<?php }else if ($question_type==14){ //TRUE OR FALSE?>	
						    							<?php if ($number==1){?>
							    							<?php echo $rs['article']; ?>
							    						<?php }?>
							    						<?php 
							    						$question_id = $rs['id'];
						    							$rowQ = $_dbgb->getQuestionDetailById($rs['id']);
						    							if (!empty($rowQ)){
						    								?>
						    							<div class="section-exam-question ">
								    						<ul>
								    							<li>
								    								<div class="answer-blog">
								    									<table class="table_answer">
								    										<?php
								    										$answerStatus="";
								    										 foreach ($rowQ as $index => $question){ 
								    											$keyIndex = $index+1;
								    											$result = $_dbpl->getPlacementTestAnswerRow($placemnet_id, $question_id, $question['id']);
								    											$answerStatus="";
								    											if (!empty($result)){
								    												if ($question['is_example']!=1){
								    													$answerStatus.='<span class="answer-status">';
								    													if ($result['point']>0){
								    														$answerStatus.='<i class="blue fa fa-check" aria-hidden="true"></i>';
								    													}else{
								    														$answerStatus.='<i class="red fa fa-times" aria-hidden="true"></i>';
								    													}
								    													$answerStatus.='</span>';
								    												}
								    											}
								    										?>
								    											
								    												<tr>
								    													<td width="50%"> <?php echo $question['answer_label'];?> </td>
								    													<td valign="top">
								    														<span style="display: inline-block;width: 20%;">
													    									<?php echo ucfirst($question['answer_key']);?>
													    									</span>
											    											<select class="option-answer full-width" style="display: inline-block; width: 60%;" readonly="readonly" disabled="disabled" onChange="enterAnswer('<?php echo $question_type;?>','<?php echo $question_id;?>','<?php echo $question['id'];?>');" id="answere_<?php echo $question_id."_".$question['id']; ?>" name="answere_<?php echo $question_id."_".$question['id'];?>" dojoType="dijit.form.FilteringSelect" >
														    								<?php 
														    								if (!empty($result)){
														    									$opti= '<option value="" >'.htmlspecialchars($tr->translate("SELECT_TRUE_FALSE"), ENT_QUOTES).'</option>';
														    									foreach ($truefalseList as $quest){
														    										$selected = '';
														    										if ($quest['id']==$result['answer_key']){
														    											$selected = 'selected="selected"';
														    										}
														    										$colB = $quest['name'];
														    										$opti.= '<option '.$selected.' value="'.$quest['id'].'" >'.htmlspecialchars($colB, ENT_QUOTES).'</option>';
														    									}
														    									echo $opti;
														    								}else{
														    									echo $this->truefalse_opt;
														    								}?>
														    								</select>
														    								<?php echo $answerStatus;?>
								    													</td>
								    													<td width="30%">
								    													</td>
								    												</tr>
								    											
								    											
								    										<?php }?>
						    											</table>
						    										</div>
						    									</li>
						    								</ul>
						    							</div>
						    							<?php }?>
						    							
							    					<?php }else if ($question_type==15){ //Matching II?>
							    					
							    						<?php 
							    						$question_id = $rs['id'];
						    							$rowQ = $_dbgb->getQuestionDetailById($rs['id']);
						    							if (!empty($rowQ)){
						    								?>
						    							<div class="section-exam-question ">
								    						<input type="hidden" value="<?php echo $rs['id'];?>" id="question_id_<?php echo $key+1?>" name="question_id_<?php echo $key+1?>">
						    								<div class="answer-blog">
						    									<ul>
						    										<li class="answer-opt col1">
									    									<?php 
									    									$tdHead="";
									    									$tdRow="";
									    									$options= '<option value="" >'.htmlspecialchars($tr->translate("SELECT_ANSWER"), ENT_QUOTES).'</option>';
									    									foreach ($rowQ as $index => $question){ $keyIndex = $index+1;
									    										$colB = $question['column_b'];
									    										$sppB = str_split($question['column_b']);
									    										$options .= '<option value="'.$colB.'" >'.htmlspecialchars($sppB[0], ENT_QUOTES).'</option>';
									    										$tdHead.='<td align="center">'.$keyIndex.'</td>';
									    										
									    										$spp = str_split($question['answer_key']);
									    										$tdRow.="<td align='center'> <strong style=' padding: 2px;  width: 100%; display: block;'>".$spp[0]."</strong> </td>";
									    										?>
									    										<span class="inline-value ">
											    									<?php echo $question['answer_label'];?>
											    								</span>
											    								<span class="inline-value ">
											    									<?php echo $keyIndex;?>.) &#9634;
											    								</span>
											    								
									    								<?php }?>
									    								<span class="inline-value ">
									    								<?php echo $rs['note'];?>
									    								</span>
									    							</li>
				    											</ul>
				    											
				    											<ul>
									    							<?php 
									    							$tdAnswer="";
									    							$answerStatus="";
									    							foreach ($rowQ as $index => $question){ $keyIndex = $index+1;
									    							
									    								$result = $_dbpl->getPlacementTestAnswerRow($placemnet_id, $question_id, $question['id']);
									    								$answerStatus="";
									    								if (!empty($result)){
									    									if ($question['is_example']!=1){
									    										$answerStatus.='<span class="answer-status">';
									    										if ($result['point']>0){
									    											$answerStatus.='<i class="blue fa fa-check" aria-hidden="true"></i>';
									    										}else{
									    											$answerStatus.='<i class="red fa fa-times" aria-hidden="true"></i>';
									    										}
									    										$answerStatus.='</span>';
									    									}
									    								}
									    								$tdAnswer.='<td>'.$answerStatus.'<select style="width: 80%;" readonly="readonly" disabled="disabled" onChange="enterAnswer('."'".$question_type."'".','."'".$question_id."'".','."'".$question['id']."'".');" id="answere_'.$question_id."_".$question['id'].'" name="answere_'.$question_id."_".$question['id'].'" dojoType="dijit.form.FilteringSelect" class="option-answer full-width" >';
									    								if (!empty($result)){
									    									$opti= '<option value="" >'.htmlspecialchars($tr->translate("SELECT_ANSWER"), ENT_QUOTES).'</option>';
									    									foreach ($rowQ as $index => $quest){
									    										$selected = '';
									    										if ($quest['column_b']==$result['answer_key']){
									    											$selected = 'selected="selected"';
									    										}
									    										$colB = $quest['column_b'];
									    										$sppB = str_split($quest['column_b']);
									    										$opti.= '<option '.$selected.' value="'.$colB.'" >'.htmlspecialchars($sppB[0], ENT_QUOTES).'</option>';
									    									}
									    									$tdAnswer.=$opti;
									    								}else{
									    									$tdAnswer.=$options;
									    								}
									    								$tdAnswer.='</select></td>';
									    							?>
									    							<li class="answer-opt col1">
									    								<?php echo $question['column_b'];?>
									    							</li>
									    							<?php }?>
				    											</ul>
							    								<table class="table_answer" border="1">
								    										<tr>
								    											<?php echo $tdHead;?>
								    										</tr>
								    										<tr>
								    											<?php echo $tdRow;?>
								    										</tr>
								    										<tr>
								    											<?php echo $tdAnswer;?>
								    										</tr>
								    									</table>			
				    										</div>
								    					</div>
								    					<?php }?>
						    						<?php }else {?>
						    						<?php } //End Question Block?>
						    						
						    						<?php 
						    						$parent = $rs['parent'];
						    						$section = $rs['section_id'];
						    						?>
						    						
						    				<?php }?>
						    				
						    			</div>
						    		</div>
						    	</div>
						    	<div style="clear:both;"></div>
						    </div>
						</section>
       		 		</form>
             		
       		 	</div>
       		</div>
     <style>
			.foot-bt {
			    display: block;
			    margin: 45px 0;
			}
			a.bt-complete {
			    background: #0d8e75;
			    padding: 10px;
			    color: #fff;
			    border-radius: 5px;
			}
			a.bt-complete:hover {
			    background: #046754;
			}
			.test-min {
				    padding: 10px;
				    border-radius: 8px;
				    font-weight: 600;
				    font-size: 21px;
				    color: #fff;
				}
			span.min {
			    background: #333d98;
			    padding: 10px;
			    border: solid 1px #ccc;
			    display:inline-block;
				border-radius: 10px;
			}
		span.min span { display:block; width:100%;}
     </style>
     <script type="text/javascript">


     </script>
	